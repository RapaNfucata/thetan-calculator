{"ast":null,"code":"var _jsxFileName = \"/Users/frankscippo/Desktop/GAME/THETAN ARENA/Thetan Calculator React/thetancalculator/src/App/components/Calcolatore/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport ics from \"../../images/ics.png\";\nimport Guadagni from \"./Guadagni\";\nimport InfoPersonaggio from \"./InfoPersonaggio\";\nimport NomePersonaggio from \"./NomePersonaggio\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Calcolatore(props) {\n  _s();\n\n  const [urlHero, setUrl] = useState(\"\");\n  const [dataHero, setDataHero] = useState(undefined);\n  const inputURL = useRef();\n  const prezzoTHC = props.prezzoTHC;\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        event.preventDefault();\n        getDataFromUrl();\n      }\n    };\n\n    document.addEventListener(\"keyup\", listener);\n    return () => {\n      document.removeEventListener(\"keyup\", listener);\n    };\n  }, []);\n\n  function isValidHttpUrl(string) {\n    let url;\n\n    try {\n      url = new URL(string);\n    } catch (_) {\n      return false;\n    }\n\n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n  }\n\n  function getDataFromUrl() {\n    setDataHero(undefined);\n    const validation = isValidHttpUrl(inputURL.current.value);\n    console.log(validation);\n\n    if (validation || inputURL.current.value === \"\") {\n      if (inputURL.current.value !== \"\") {\n        const heroID = inputURL.current.value.split(\"/\").pop();\n        const URL = \"https://data.thetanarena.com/thetan/v1/hero?id=\" + heroID;\n        fetch(URL).then(response => response.json()).then(data => {\n          console.log(data.data);\n          setDataHero(data.data);\n          resetUrl();\n        });\n      }\n    } else {\n      alert(\"inserisci un URL valido\");\n    }\n  }\n\n  function resetUrl() {\n    setUrl(\"\");\n    inputURL.current.focus();\n  }\n\n  function writeURL(e) {\n    setUrl(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultLabel\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          minWidth: 300\n        },\n        className: \"mainLayout column flexSpace marginTop30 maxWidth350\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input\",\n          style: {\n            width: 250,\n            maxWidth: \"none\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputURL,\n            style: {\n              padding: \"0 40px 0 15px\",\n              fontSize: 16,\n              maxWidth: \"none\"\n            },\n            type: \"text\",\n            id: \"urlHero\",\n            value: urlHero,\n            onChange: e => writeURL(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundImage: \"url(\" + ics + \")\"\n            },\n            className: \"inputLabel ics\",\n            onClick: () => resetUrl()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"label\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"URL Personaggio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              textAlign: \"center\"\n            },\n            id: \"buyType\",\n            children: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), dataHero !== undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calcolatore\",\n      children: [/*#__PURE__*/_jsxDEV(NomePersonaggio, {\n        dataHero: dataHero\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(InfoPersonaggio, {\n        coin: props.coin,\n        dataHero: dataHero,\n        prezzoTHC: prezzoTHC,\n        action: () => alert(\"azione\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Guadagni, {\n        coin: props.coin,\n        prezzoTHC: prezzoTHC,\n        dataHero: dataHero\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calcola\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => getDataFromUrl(),\n        children: \"Calcola\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Calcolatore, \"stVtSdOLFcHxhYwPh00MplLxxCM=\");\n\n_c = Calcolatore;\nexport default Calcolatore;\n\nvar _c;\n\n$RefreshReg$(_c, \"Calcolatore\");","map":{"version":3,"sources":["/Users/frankscippo/Desktop/GAME/THETAN ARENA/Thetan Calculator React/thetancalculator/src/App/components/Calcolatore/index.js"],"names":["useEffect","useRef","useState","ics","Guadagni","InfoPersonaggio","NomePersonaggio","Calcolatore","props","urlHero","setUrl","dataHero","setDataHero","undefined","inputURL","prezzoTHC","listener","event","code","preventDefault","getDataFromUrl","document","addEventListener","removeEventListener","isValidHttpUrl","string","url","URL","_","protocol","validation","current","value","console","log","heroID","split","pop","fetch","then","response","json","data","resetUrl","alert","focus","writeURL","e","target","minWidth","width","maxWidth","padding","fontSize","backgroundImage","textAlign","coin"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport ics from \"../../images/ics.png\";\nimport Guadagni from \"./Guadagni\";\nimport InfoPersonaggio from \"./InfoPersonaggio\";\nimport NomePersonaggio from \"./NomePersonaggio\";\n\nfunction Calcolatore(props) {\n  const [urlHero, setUrl] = useState(\"\");\n  const [dataHero, setDataHero] = useState(undefined);\n  const inputURL = useRef();\n  const prezzoTHC = props.prezzoTHC;\n\n  useEffect(() => {\n    const listener = (event) => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        event.preventDefault();\n        getDataFromUrl();\n      }\n    };\n    document.addEventListener(\"keyup\", listener);\n    return () => {\n      document.removeEventListener(\"keyup\", listener);\n    };\n  }, []);\n\n  function isValidHttpUrl(string) {\n    let url;\n    try {\n      url = new URL(string);\n    } catch (_) {\n      return false;\n    }\n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n  }\n\n  function getDataFromUrl() {\n    setDataHero(undefined);\n    const validation = isValidHttpUrl(inputURL.current.value);\n    console.log(validation);\n    if (validation || inputURL.current.value === \"\") {\n      if (inputURL.current.value !== \"\") {\n        const heroID = inputURL.current.value.split(\"/\").pop();\n        const URL = \"https://data.thetanarena.com/thetan/v1/hero?id=\" + heroID;\n        fetch(URL)\n          .then((response) => response.json())\n          .then((data) => {\n            console.log(data.data);\n            \n            setDataHero(data.data);\n            resetUrl();\n          });\n      }\n    } else {\n      alert(\"inserisci un URL valido\");\n    }\n  }\n\n  function resetUrl() {\n    setUrl(\"\");\n    inputURL.current.focus();\n  }\n  function writeURL(e) {\n    \n    setUrl(e.target.value);\n  }\n\n  return (\n    <div>\n      <div className=\"resultLabel\">\n        <div\n          style={{ minWidth: 300 }}\n          className=\"mainLayout column flexSpace marginTop30 maxWidth350\"\n        >\n          <div className=\"input\" style={{ width: 250, maxWidth: \"none\" }}>\n            <input\n              ref={inputURL}\n              style={{\n                padding: \"0 40px 0 15px\",\n                fontSize: 16,\n                maxWidth: \"none\",\n              }}\n              type=\"text\"\n              id=\"urlHero\"\n              value={urlHero}\n              onChange={(e) => writeURL(e)}\n            />\n            <div\n              style={{ backgroundImage: \"url(\" + ics + \")\" }}\n              className=\"inputLabel ics\"\n              onClick={() => resetUrl()}\n            ></div>\n          </div>\n          <div className=\"label\">\n            <h3 style={{ textAlign: \"center\" }}>URL Personaggio</h3>\n            <h3 style={{ textAlign: \"center\" }} id=\"buyType\">{\"\"}</h3>\n          </div>\n        </div>\n      </div>\n      {dataHero !== undefined ?\n        <div className=\"calcolatore\">\n          <NomePersonaggio dataHero={dataHero} />\n          <InfoPersonaggio\n            coin={props.coin}\n            dataHero={dataHero}\n            prezzoTHC={prezzoTHC}\n            action={() => alert(\"azione\")}\n          />\n          <Guadagni\n            coin={props.coin}\n            prezzoTHC={prezzoTHC}\n            dataHero={dataHero}\n          />\n        </div> : null\n      }\n      <div className=\"calcola\">\n      <button onClick={() => getDataFromUrl()}>Calcola</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Calcolatore;\n"]},"metadata":{},"sourceType":"module"}