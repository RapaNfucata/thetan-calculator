{"ast":null,"code":"import _slicedToArray from\"/Users/frankscippo/Desktop/GAME/THETAN ARENA/Thetan Calculator React/thetancalculator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import ics from\"../../images/ics.png\";import Guadagni from\"./Guadagni\";import InfoPersonaggio from\"./InfoPersonaggio\";import NomePersonaggio from\"./NomePersonaggio\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Calcolatore(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),urlHero=_useState2[0],setUrl=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),dataHero=_useState4[0],setDataHero=_useState4[1];var inputURL=useRef();var prezzoTHC=props.prezzoTHC;useEffect(function(){var listener=function listener(event){if(event.code===\"Enter\"||event.code===\"NumpadEnter\"){event.preventDefault();getDataFromUrl();}};document.addEventListener(\"keyup\",listener);return function(){document.removeEventListener(\"keyup\",listener);};});function isValidHttpUrl(string){var url;try{url=new URL(string);}catch(_){return false;}return url.protocol===\"http:\"||url.protocol===\"https:\";}function getDataFromUrl(){setDataHero(undefined);var validation=isValidHttpUrl(inputURL.current.value);console.log(validation);if(validation||inputURL.current.value===\"\"){if(inputURL.current.value!==\"\"){var heroID=inputURL.current.value.split(\"/\").pop();var _URL=\"https://data.thetanarena.com/thetan/v1/hero?id=\"+heroID;fetch(_URL).then(function(response){return response.json();}).then(function(data){console.log(data.data);setDataHero(data.data);resetUrl();});}}else{alert(\"inserisci un URL valido\");}}function resetUrl(){setUrl(\"\");inputURL.current.focus();}function writeURL(e){setUrl(e.target.value);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"resultLabel\",children:/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:300},className:\"mainLayout column flexSpace marginTop30 maxWidth350\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",style:{width:250,maxWidth:\"none\"},children:[/*#__PURE__*/_jsx(\"input\",{ref:inputURL,style:{padding:\"0 40px 0 15px\",fontSize:16,maxWidth:\"none\"},type:\"text\",id:\"urlHero\",value:urlHero,onChange:function onChange(e){return writeURL(e);}}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\"+ics+\")\"},className:\"inputLabel ics\",onClick:function onClick(){return resetUrl();}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"label\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"URL Personaggio\"}),/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},id:\"buyType\",children:\"\"})]})]})}),dataHero!==undefined?/*#__PURE__*/_jsxs(\"div\",{className:\"calcolatore\",children:[/*#__PURE__*/_jsx(NomePersonaggio,{dataHero:dataHero}),/*#__PURE__*/_jsx(InfoPersonaggio,{coin:props.coin,dataHero:dataHero,prezzoTHC:prezzoTHC,action:function action(){return alert(\"azione\");}}),/*#__PURE__*/_jsx(Guadagni,{coin:props.coin,prezzoTHC:prezzoTHC,dataHero:dataHero})]}):null,/*#__PURE__*/_jsx(\"div\",{className:\"calcola\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return getDataFromUrl();},children:\"Calcola\"})})]});}export default Calcolatore;","map":{"version":3,"sources":["/Users/frankscippo/Desktop/GAME/THETAN ARENA/Thetan Calculator React/thetancalculator/src/App/components/Calcolatore/index.js"],"names":["useEffect","useRef","useState","ics","Guadagni","InfoPersonaggio","NomePersonaggio","Calcolatore","props","urlHero","setUrl","undefined","dataHero","setDataHero","inputURL","prezzoTHC","listener","event","code","preventDefault","getDataFromUrl","document","addEventListener","removeEventListener","isValidHttpUrl","string","url","URL","_","protocol","validation","current","value","console","log","heroID","split","pop","fetch","then","response","json","data","resetUrl","alert","focus","writeURL","e","target","minWidth","width","maxWidth","padding","fontSize","backgroundImage","textAlign","coin"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport ics from \"../../images/ics.png\";\nimport Guadagni from \"./Guadagni\";\nimport InfoPersonaggio from \"./InfoPersonaggio\";\nimport NomePersonaggio from \"./NomePersonaggio\";\n\nfunction Calcolatore(props) {\n  const [urlHero, setUrl] = useState(\"\");\n  const [dataHero, setDataHero] = useState(undefined);\n  const inputURL = useRef();\n  const prezzoTHC = props.prezzoTHC;\n\n  useEffect(() => {\n    const listener = (event) => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        event.preventDefault();\n        getDataFromUrl();\n      }\n    };\n    document.addEventListener(\"keyup\", listener);\n    return () => {\n      document.removeEventListener(\"keyup\", listener);\n    };\n  });\n\n  function isValidHttpUrl(string) {\n    let url;\n    try {\n      url = new URL(string);\n    } catch (_) {\n      return false;\n    }\n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n  }\n\n  function getDataFromUrl() {\n    setDataHero(undefined);\n    const validation = isValidHttpUrl(inputURL.current.value);\n    console.log(validation);\n    if (validation || inputURL.current.value === \"\") {\n      if (inputURL.current.value !== \"\") {\n        const heroID = inputURL.current.value.split(\"/\").pop();\n        const URL = \"https://data.thetanarena.com/thetan/v1/hero?id=\" + heroID;\n        fetch(URL)\n          .then((response) => response.json())\n          .then((data) => {\n            console.log(data.data);\n            \n            setDataHero(data.data);\n            resetUrl();\n          });\n      }\n    } else {\n      alert(\"inserisci un URL valido\");\n    }\n  }\n\n  function resetUrl() {\n    setUrl(\"\");\n    inputURL.current.focus();\n  }\n  function writeURL(e) {\n    \n    setUrl(e.target.value);\n  }\n\n  return (\n    <div>\n      <div className=\"resultLabel\">\n        <div\n          style={{ minWidth: 300 }}\n          className=\"mainLayout column flexSpace marginTop30 maxWidth350\"\n        >\n          <div className=\"input\" style={{ width: 250, maxWidth: \"none\" }}>\n            <input\n              ref={inputURL}\n              style={{\n                padding: \"0 40px 0 15px\",\n                fontSize: 16,\n                maxWidth: \"none\",\n              }}\n              type=\"text\"\n              id=\"urlHero\"\n              value={urlHero}\n              onChange={(e) => writeURL(e)}\n            />\n            <div\n              style={{ backgroundImage: \"url(\" + ics + \")\" }}\n              className=\"inputLabel ics\"\n              onClick={() => resetUrl()}\n            ></div>\n          </div>\n          <div className=\"label\">\n            <h3 style={{ textAlign: \"center\" }}>URL Personaggio</h3>\n            <h3 style={{ textAlign: \"center\" }} id=\"buyType\">{\"\"}</h3>\n          </div>\n        </div>\n      </div>\n      {dataHero !== undefined ?\n        <div className=\"calcolatore\">\n          <NomePersonaggio dataHero={dataHero} />\n          <InfoPersonaggio\n            coin={props.coin}\n            dataHero={dataHero}\n            prezzoTHC={prezzoTHC}\n            action={() => alert(\"azione\")}\n          />\n          <Guadagni\n            coin={props.coin}\n            prezzoTHC={prezzoTHC}\n            dataHero={dataHero}\n          />\n        </div> : null\n      }\n      <div className=\"calcola\">\n      <button onClick={() => getDataFromUrl()}>Calcola</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Calcolatore;\n"]},"metadata":{},"sourceType":"module"}